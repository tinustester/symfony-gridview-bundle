<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>
        <service id="tt_grid.html" class="Tinustester\Bundle\GridviewBundle\Helper\Html"/>
        <service id="tt_grid.column_format" class="Tinustester\Bundle\GridviewBundle\Column\ColumnFormat"/>
<!--        <service id="av_grid.counter_column" class="AV\GridBundle\Service\Grid\Column\CounterColumn">-->
<!--            <argument type="service" id="av_grid.column_format"/>-->
<!--            <call method="setHtml">-->
<!--                <argument type="service" id="av_grid.html"/>-->
<!--            </call>-->
<!--        </service>-->

        <service id="tt_grid.column" class="Tinustester\Bundle\GridviewBundle\Column\Column">
            <argument type="service" id="tt_grid.column_format"/>
            <call method="setHtml">
                <argument type="service" id="tt_grid.html"/>
            </call>
        </service>

<!--        <service id="av_grid.action_column"-->
<!--                 class="AV\GridBundle\Service\Grid\Column\ActionColumn">-->
<!--            <argument type="service" id="av_grid.column_format"/>-->
<!--            <call method="setRequest">-->
<!--                <argument type="service" id="request_stack"/>-->
<!--            </call>-->
<!--            <call method="setHtml">-->
<!--                <argument type="service" id="av_grid.html"/>-->
<!--            </call>-->
<!--        </service>-->

        <service id="tt_grid.view" class="Tinustester\Bundle\GridviewBundle\Gridview">
            <call method="setHtml">
                <argument type="service" id="tt_grid.html"/>
            </call>
        </service>

        <service id="tt_grid.twig_extension" class="Tinustester\Bundle\GridviewBundle\Twig\GridExtension" public="false">
            <argument type="service" id="twig"/>
            <tag name="twig.extension"/>
        </service>

        <service id="tt_grid.pagination" class="Tinustester\Bundle\GridviewBundle\Component\Pagination">
            <argument type="service" id="request_stack"/>
        </service>

        <service id="tt_grid.sort" class="Tinustester\Bundle\GridviewBundle\Component\Sort">
            <argument type="service" id="request_stack"/>
            <argument type="service" id="router"/>
            <call method="setHtml">
                <argument type="service" id="tt_grid.html"/>
            </call>
        </service>

<!--        <service id="av_grid.pagination_view"-->
<!--                 class="AV\GridBundle\Service\Grid\Pagination\PaginationView">-->
<!--            <argument type="service" id="request_stack"/>-->
<!--            <argument type="service" id="router"/>-->
<!--            <call method="setHtml">-->
<!--                <argument type="service" id="av_grid.html"/>-->
<!--            </call>-->
<!--        </service>-->

<!--        <service id="tt_grid.pagination_extension"-->
<!--                 class="AV\GridBundle\Twig\PaginationExtension">-->
<!--            <argument type="service" id="av_grid.pagination_view"/>-->
<!--            <tag name="twig.extension"/>-->
<!--        </service>-->

        <service id="tt_grid.query_data_source" class="Tinustester\Bundle\GridviewBundle\DataSource\QueryDataSource">
            <call method="setPagination">
                <argument type="service" id="tt_grid.pagination"/>
            </call>
            <call method="setSort">
                <argument type="service" id="tt_grid.sort"/>
            </call>
        </service>

<!--        <service id="tt_grid.array_data_source" class="AV\GridBundle\Service\DataSourceGateway\ArrayDataSource">-->
<!--            <call method="setPagination">-->
<!--                <argument type="service" id="av_grid.pagination"/>-->
<!--            </call>-->
<!--            <call method="setSort">-->
<!--                <argument type="service" id="av_grid.sort"/>-->
<!--            </call>-->
<!--        </service>-->

        <service id="tt_grid.grid_view_factory" class="Tinustester\Bundle\GridviewBundle\GridviewFactory" public="true">
            <argument type="service" id="tt_grid.view"/>
            <argument type="service" id="service_container"/>
        </service>

        <service id="Tinustester\Bundle\GridviewBundle\GridviewFactory" class="Tinustester\Bundle\GridviewBundle\GridviewFactory">
            <argument type="service" id="tt_grid.view"/>
            <argument type="service" id="service_container"/>
        </service>

        <service id="Tinustester\Bundle\GridviewBundle\Gridview" class="Tinustester\Bundle\GridviewBundle\Gridview">
        </service>
    </services>
</container>